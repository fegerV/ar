# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cpanel –¥–ª—è Vertex AR

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ–Ω–µ

- **–î–æ–º–µ–Ω**: nft.vertex-art.ru
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä**: reg.ru
- **–•–æ—Å—Ç–∏–Ω–≥**: cloud.ru
- **IP —Å–µ—Ä–≤–µ—Ä–∞**: 192.144.12.68

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –≤ Cpanel

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Cpanel**: https://nft.vertex-art.ru:2083
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Addon Domains (–∏–ª–∏ –ü–∞—Ä–∫–æ–≤–∫–∞ –¥–æ–º–µ–Ω–æ–≤)
3. **–ù–∞–∂–º–∏—Ç–µ**: "–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω"
4. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ**:
   - **–î–æ–º–µ–Ω**: `nft.vertex-art.ru`
   - **–î–æ–∫—É–º–µ–Ω—Ç–Ω–∞—è –∫–æ—Ä–Ω–µ–≤–∞—è –ø–∞–ø–∫–∞**: `/public_html/nft.vertex-art.ru` (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ `/public_html`)
   - **–ü–æ–¥–¥–æ–º–µ–Ω WWW**: –í–∫–ª—é—á–∏—Ç—å

5. **–ù–∞–∂–º–∏—Ç–µ**: "–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω"

---

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: AutoSSL (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: SSL/TLS Manager (–∏–ª–∏ SSL Certificates)
2. **–ù–∞–∂–º–∏—Ç–µ**: "Manage SSL sites" –∏–ª–∏ "Auto SSL"
3. **–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω**: `nft.vertex-art.ru`
4. **–ù–∞–∂–º–∏—Ç–µ**: "Auto-install SSL"
5. **–ñ–¥–∏—Ç–µ**: 5-10 –º–∏–Ω—É—Ç

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

#### –í–∞—Ä–∏–∞–Ω—Ç B: Let's Encrypt –≤—Ä—É—á–Ω—É—é

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: SSL/TLS Manager
2. **–ù–∞–∂–º–∏—Ç–µ**: "Generate, view, upload, or delete SSL certificates"
3. **–ù–∞–∂–º–∏—Ç–µ**: "Auto Generate"
4. **–í—ã–±–µ—Ä–∏—Ç–µ**: `nft.vertex-art.ru` –∏ `www.nft.vertex-art.ru`
5. **–ù–∞–∂–º–∏—Ç–µ**: "Generate"

---

### –®–∞–≥ 3: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: SSL/TLS Manager
2. **–í—ã–±–µ—Ä–∏—Ç–µ**: `nft.vertex-art.ru`
3. **–ù–∞–∂–º–∏—Ç–µ**: "Copy to Clipboard" –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ —Ñ–∞–π–ª
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**:
   - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (.crt)
   - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (.key)

**–°–¥–µ–ª–∞–π—Ç–µ SSH –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
scp -i /path/to/key certificate.crt rustadmin@192.144.12.68:/tmp/
scp -i /path/to/key private.key rustadmin@192.144.12.68:/tmp/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (SSH)
sudo cp /tmp/certificate.crt /etc/ssl/certs/nft.vertex-art.ru.crt
sudo cp /tmp/private.key /etc/ssl/private/nft.vertex-art.ru.key
sudo chmod 644 /etc/ssl/certs/nft.vertex-art.ru.crt
sudo chmod 600 /etc/ssl/private/nft.vertex-art.ru.key
sudo systemctl restart nginx
```

---

### –®–∞–≥ 4: –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Proxy (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ Cpanel –ø–æ–∑–≤–æ–ª—è–µ—Ç proxy —á–µ—Ä–µ–∑ .htaccess:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: File Manager
2. **–û—Ç–∫—Ä–æ–π—Ç–µ**: `/public_html` (–∫–æ—Ä–Ω–µ–≤–æ–π –¥–æ–º–µ–Ω)
3. **–°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ**: `.htaccess`
4. **–í—Å—Ç–∞–≤—å—Ç–µ**:

```apache
RewriteEngine On

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ http://127.0.0.1:8000/$1 [P,L]

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
SetEnv FORCE_HTTPS 1
```

#### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Nginx (–ù–∞—à –≤–∞—Ä–∏–∞–Ω—Ç)

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ `/etc/nginx/sites-available/vertex-ar`.

---

### –®–∞–≥ 5: DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)

–ï—Å–ª–∏ Cpanel –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç DNS:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Zone Editor
2. **–î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å–∏**:

```
–¢–∏–ø: A
–ò–º—è: nft.vertex-art.ru
IP: 192.144.12.68
TTL: 3600
```

```
–¢–∏–ø: CNAME
–ò–º—è: www.nft.vertex-art.ru
–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞: nft.vertex-art.ru
TTL: 3600
```

---

### –®–∞–≥ 6: Email –∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã email –Ω–∞ —ç—Ç–æ–º –¥–æ–º–µ–Ω–µ:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Email Accounts
2. **–î–æ–±–∞–≤—å—Ç–µ –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫**
3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ø–∞–º-—Ñ–∏–ª—å—Ç—Ä—ã**: Spam Filters

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ Cpanel

### –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS –∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–í File Manager -> /public_html -> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .htaccess:**

```apache
# ============================================
# –ë–∞–∑–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
# ============================================

# –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–æ–≤
Options -Indexes

# –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º —Ñ–∞–π–ª–∞–º
<FilesMatch "\.php$|\.pl$|\.py$|\.jsp$|\.asp$|\.sh$|\.cgi$|\.conf$|\.env$">
    Order Deny,Allow
    Deny from all
</FilesMatch>

# ============================================
# –ó–∞—â–∏—Ç–∞ –æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∫–∞–Ω–µ—Ä–æ–≤
# ============================================

# –ó–∞–ø—Ä–µ—Ç–∏—Ç—å BOT'—ã
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{HTTP_USER_AGENT} ^.*(bot|crawler|spider|scraper).*$ [NC]
    RewriteRule ^(.*)$ - [F]
</IfModule>

# ============================================
# –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏
# ============================================

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
<IfModule mod_headers.c>
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-Content-Type-Options "nosniff"
    Header set X-XSS-Protection "1; mode=block"
    Header set Referrer-Policy "no-referrer-when-downgrade"
</IfModule>

# ============================================
# HTTPS —Ä–µ–¥–∏—Ä–µ–∫—Ç
# ============================================

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Cpanel

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Metrics (–∏–ª–∏ Statistics)
2. **–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ**:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
   - –¢—Ä–∞—Ñ–∏–∫ –¥–æ–º–µ–Ω–∞
   - –û—à–∏–±–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤**: Log files (–∏–ª–∏ Logs)
2. **–í—ã–±–µ—Ä–∏—Ç–µ**: Raw Access Log –¥–ª—è `nft.vertex-art.ru`
3. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH**:

```bash
# HTTP –ª–æ–≥–∏
tail -f /usr/local/apache/domlogs/nft.vertex-art.ru

# HTTPS –ª–æ–≥–∏
tail -f /usr/local/apache/domlogs/nft.vertex-art.ru-ssl_log
```

---

## üîß Cpanel API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API:

```bash
#!/bin/bash

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
CPANEL_HOST="nft.vertex-art.ru"
CPANEL_USER="rustadmin"
CPANEL_TOKEN="your-api-token"

# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤
curl -X GET \
  "https://$CPANEL_HOST:2087/execute/DomainInfo/list_domains" \
  -H "Authorization: Bearer $CPANEL_TOKEN"

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL
curl -X POST \
  "https://$CPANEL_HOST:2087/execute/SSL/install_ssl" \
  -H "Authorization: Bearer $CPANEL_TOKEN" \
  -d '{
    "domain": "nft.vertex-art.ru",
    "cert": "-----BEGIN CERTIFICATE-----...",
    "key": "-----BEGIN PRIVATE KEY-----...",
    "ca": "-----BEGIN CERTIFICATE-----..."
  }'
```

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–º–µ–Ω –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏
nslookup nft.vertex-art.ru
dig nft.vertex-art.ru

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —É–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP
# –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: 192.144.12.68
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Cpanel**: SSL/TLS Manager
2. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: Auto SSL
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
sudo ls -la /etc/ssl/certs/nft.vertex-art.ru.crt
sudo ls -la /etc/ssl/private/nft.vertex-art.ru.key

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx –∫–æ–Ω—Ñ–∏–≥
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Nginx
sudo systemctl restart nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:

```bash
sudo supervisorctl status vertex-ar
```

2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:

```bash
sudo supervisorctl restart vertex-ar
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**:

```bash
tail -f /var/log/vertex-ar/error.log
```

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç Cpanel

- [ ] –î–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ Cpanel
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] .htaccess –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è proxy)
- [ ] Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ
- [ ] –î–æ–º–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ HTTPS
- [ ] –ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ https://nft.vertex-art.ru/admin
- [ ] –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä—è—Ç—Å—è
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

- **Cloud.ru**: https://cloud.ru/support
- **Reg.ru**: https://www.reg.ru/support
- **Let's Encrypt**: https://letsencrypt.org/support/
- **Nginx**: https://nginx.org/en/support.html

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2024-11-21
**–í–µ—Ä—Å–∏—è**: 1.0
