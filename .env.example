# Vertex AR - Production Environment Variables Template
# Copy this file to .env and update with your production values

# ============================================
# Application Settings
# ============================================

# Debug mode (MUST be False in production)
DEBUG=False

# Secret key for JWT tokens - MUST be changed in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_TO_A_SECURE_RANDOM_KEY_IN_PRODUCTION

# Application host and port
APP_HOST=0.0.0.0
APP_PORT=8000

# Base URL for the application (used for generating AR URLs and QR codes)
# Example: https://yourdomain.com
BASE_URL=http://localhost:8000

# Environment name (development, staging, production)
ENVIRONMENT=production

# ============================================
# Database Settings
# ============================================

# SQLite database path (relative to application directory)
DATABASE_URL=sqlite:///./app_data.db

# For PostgreSQL (recommended for production):
# DATABASE_URL=postgresql://user:password@localhost:5432/vertex_ar

# ============================================
# Storage Settings
# ============================================

# Storage type: "local" or "minio"
STORAGE_TYPE=local

# Local storage path
STORAGE_PATH=./storage

# ============================================
# MinIO/S3 Settings (if STORAGE_TYPE=minio)
# ============================================

MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=CHANGE_ME_IN_PRODUCTION
MINIO_BUCKET=vertex-ar
MINIO_SECURE=True
MINIO_PUBLIC_URL=

# ============================================
# Security Settings
# ============================================

# CORS allowed origins (comma-separated)
# IMPORTANT: Change this in production to your actual domain(s)
# Example: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30

# Maximum failed authentication attempts before lockout
AUTH_MAX_ATTEMPTS=5

# Account lockout duration in minutes
AUTH_LOCKOUT_MINUTES=15

# Token expiration time in hours
TOKEN_EXPIRATION_HOURS=24

# Bcrypt password hashing rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# Default admin credentials (auto-seeded for admin panel access)
DEFAULT_ADMIN_USERNAME=superar
DEFAULT_ADMIN_PASSWORD=ffE48f0ns@HQ
DEFAULT_ADMIN_EMAIL=superar@vertex-ar.local
DEFAULT_ADMIN_FULL_NAME=Super Administrator

# Legacy admin credentials (used by legacy auth modules if needed)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ============================================
# Rate Limiting
# ============================================

# Enable rate limiting (recommended: true)
RATE_LIMIT_ENABLED=true

# Global rate limit (requests per time period)
GLOBAL_RATE_LIMIT=100/minute

# Auth endpoints rate limit
AUTH_RATE_LIMIT=5/minute

# Upload endpoints rate limit
UPLOAD_RATE_LIMIT=10/minute

# ============================================
# Logging
# ============================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Use JSON formatted logs (recommended for production)
JSON_LOGS=true

# ============================================
# Monitoring and Error Tracking
# ============================================

# Sentry DSN for error tracking (optional but recommended)
# Get from: https://sentry.io
SENTRY_DSN=

# Sentry environment name
SENTRY_ENVIRONMENT=production

# Sentry traces sample rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# File Upload Limits
# ============================================

# Maximum image size in MB
MAX_IMAGE_SIZE_MB=10

# Maximum video size in MB
MAX_VIDEO_SIZE_MB=50

# Allowed image formats (comma-separated)
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png

# Allowed video formats (comma-separated)
ALLOWED_VIDEO_FORMATS=mp4,webm

# ============================================
# NFT Marker Generation
# ============================================

# Feature density: low, medium, or high
NFT_FEATURE_DENSITY=high

# Number of pyramid levels (1-3)
NFT_PYRAMID_LEVELS=3

# Target DPI for marker generation
NFT_TARGET_DPI=150

# ============================================
# Telegram Notifications (Optional)
# ============================================

# Telegram Bot Token (get from @BotFather)
TELEGRAM_BOT_TOKEN=

# Telegram Chat ID
TELEGRAM_CHAT_ID=

# ============================================
# Email Notifications (Optional)
# ============================================

# SMTP server configuration
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=your-email@gmail.com

# Admin emails (comma-separated)
ADMIN_EMAILS=admin@example.com,ops@example.com

# ============================================
# Monitoring and Alerting
# ============================================

# Enable monitoring and alerting system
ALERTING_ENABLED=true

# Alert thresholds (percentages)
CPU_THRESHOLD=80.0
MEMORY_THRESHOLD=85.0
DISK_THRESHOLD=90.0

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=60

# Weekly report schedule
WEEKLY_REPORT_DAY=monday
WEEKLY_REPORT_TIME=09:00

# ============================================
# Redis (Optional - for caching and sessions)
# ============================================

# Redis URL
REDIS_URL=redis://localhost:6379/0

# Redis password
REDIS_PASSWORD=

# ============================================
# Backup Settings
# ============================================

# Backup destination (local, s3)
BACKUP_DESTINATION=local

# Backup retention days
BACKUP_RETENTION_DAYS=7

# S3 backup settings (if BACKUP_DESTINATION=s3)
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# ============================================
# Video Scheduler Settings
# ============================================

# Enable video animation scheduler
VIDEO_SCHEDULER_ENABLED=true

# Check interval in seconds (default: 300 = 5 minutes)
VIDEO_SCHEDULER_CHECK_INTERVAL=300

# Rotation interval in seconds (default: 3600 = 1 hour)
VIDEO_SCHEDULER_ROTATION_INTERVAL=3600

# Archive videos after hours (default: 168 = 1 week)
VIDEO_SCHEDULER_ARCHIVE_AFTER_HOURS=168

# Enable video scheduler notifications
VIDEO_SCHEDULER_NOTIFICATIONS_ENABLED=true

# ============================================
# Lifecycle Scheduler Settings
# ============================================

# Enable lifecycle scheduler for automatic status transitions
LIFECYCLE_SCHEDULER_ENABLED=true

# Check interval in seconds (default: 3600 = 1 hour)
LIFECYCLE_CHECK_INTERVAL_SECONDS=3600

# Enable lifecycle notifications (7-day, 24-hour, post-expiry alerts)
LIFECYCLE_NOTIFICATIONS_ENABLED=true

# ============================================
# IMPORTANT PRODUCTION CHECKLIST
# ============================================

# Before deploying to production, make sure:
# 1. ✅ DEBUG=False
# 2. ✅ SECRET_KEY is changed to a strong random value
# 3. ✅ ADMIN_PASSWORD is changed
# 4. ✅ CORS_ORIGINS is set to your actual domain(s)
# 5. ✅ MINIO_SECRET_KEY is changed (if using MinIO)
# 6. ✅ RATE_LIMIT_ENABLED=true
# 7. ✅ SENTRY_DSN is configured (for error tracking)
# 8. ✅ ENVIRONMENT=production
# 9. ✅ Use PostgreSQL instead of SQLite
# 10. ✅ Configure automated backups
# 11. ✅ Set up monitoring and alerting (ALERTING_ENABLED=true)
# 12. ✅ Configure SMTP/Telegram for notifications
