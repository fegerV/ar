# Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ AR-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

## ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MOBILE APP (React Native)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Portrait   â”‚  â”‚  AR Viewer   â”‚  â”‚  QR Scanner  â”‚         â”‚
â”‚  â”‚   Gallery    â”‚  â”‚   (WebView)  â”‚  â”‚   (Camera)   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                 â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                           â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚           API Client (axios/fetch)              â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                           â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚        Cache Manager (AsyncStorage + FS)        â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTPS/JSON
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VERTEX AR SERVER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              /api/mobile/* Endpoints                      â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â€¢ GET  /portraits          (ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹)       â”‚  â”‚
â”‚  â”‚  â€¢ GET  /portraits/{link}   (Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹)                  â”‚  â”‚
â”‚  â”‚  â€¢ POST /portraits/{id}/view (Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ)              â”‚  â”‚
â”‚  â”‚  â€¢ GET  /companies          (ÑĞ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹)            â”‚  â”‚
â”‚  â”‚  â€¢ GET  /marker-status      (ÑÑ‚Ğ°Ñ‚ÑƒÑ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ¾Ğ²)        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Database (SQLite)                       â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â€¢ companies         (ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸)                           â”‚  â”‚
â”‚  â”‚  â€¢ clients           (ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹)                            â”‚  â”‚
â”‚  â”‚  â€¢ portraits         (AR Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ)                     â”‚  â”‚
â”‚  â”‚  â€¢ videos            (Ğ²Ğ¸Ğ´ĞµĞ¾ Ñ„Ğ°Ğ¹Ğ»Ñ‹)                        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              File Storage (Local/MinIO)                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  /storage/portraits/    (Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ + previews)         â”‚  â”‚
â”‚  â”‚  /storage/videos/       (Ğ²Ğ¸Ğ´ĞµĞ¾ + previews)               â”‚  â”‚
â”‚  â”‚  /nft-markers/          (NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹: .fset/.fset3/.iset)â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ¾Ğ²

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mobile App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. GET /api/mobile/portraits?page=1&page_size=20
       â”‚    Authorization: Bearer {token}
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Server â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
       â”‚    â€¢ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ portraits
       â”‚    â€¢ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ clients
       â”‚    â€¢ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ active videos
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Server â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ğµ URLs
       â”‚    â€¢ image_url = BASE_URL + /storage/...
       â”‚    â€¢ marker_urls = BASE_URL + /nft-markers/...
       â”‚    â€¢ video_url = BASE_URL + /storage/...
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mobile App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² ĞºĞµÑˆ
       â”‚    AsyncStorage.setItem('portraits', data)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Display  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…: AR ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User scans â”‚
â”‚  QR Code   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ QR ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚: https://server.com/portrait/portrait_abc123
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mobile App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ permanent_link = "portrait_abc123"
       â”‚
       â”‚ 2. GET /api/mobile/portraits/portrait_abc123
       â”‚    (Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ endpoint, Ğ±ĞµĞ· Ñ‚Ğ¾ĞºĞµĞ½Ğ°)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Server â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ° Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼ Ğ²Ğ¸Ğ´ĞµĞ¾
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mobile App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞµÑˆĞ° NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ¾Ğ²
       â”‚    const cached = await getCachedMarkers(portrait.id)
       â”‚
       â”œâ”€ Ğ•ÑĞ»Ğ¸ Ğ² ĞºĞµÑˆĞµ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                â”‚
       â”œâ”€ Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ² ĞºĞµÑˆĞµ â”€â”€â”€â”€â”        â”‚
       â”‚                       â”‚        â”‚
       â”‚ 6. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹ â”‚        â”‚
       â”‚    â€¢ portrait.markers.fset   â”‚
       â”‚    â€¢ portrait.markers.fset3  â”‚
       â”‚    â€¢ portrait.markers.iset   â”‚
       â”‚                       â”‚        â”‚
       â”‚ 7. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² ĞºĞµÑˆ  â”‚        â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 8. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ AR.js Ğ² WebView
       â”‚    â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ HTML Ñ AR.js
       â”‚    â€¢ ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ marker URLs
       â”‚    â€¢ ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ video URL
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AR Viewer â”‚
â”‚  (WebView) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 9. AR.js Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ ĞºĞ°Ğ¼ĞµÑ€Ñƒ
       â”‚
       â”‚ 10. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ½Ğ°Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ½Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
       â”‚
       â”‚ 11. AR.js Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¼Ğ°Ñ€ĞºĞµÑ€
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Video Play â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 12. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°
       â”‚     POST /api/mobile/portraits/{id}/view
       â”‚     {
       â”‚       "timestamp": "...",
       â”‚       "duration_seconds": 25,
       â”‚       "device_info": {...},
       â”‚       "ar_info": {
       â”‚         "scan_time_ms": 1200,
       â”‚         "fps_average": 28.5,
       â”‚         "marker_lost_count": 3
       â”‚       }
       â”‚     }
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Server â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 13. Ğ˜Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚ view_count Ğ² Ğ‘Ğ”
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Portrait Response

```
{
  id: "uuid"
  permanent_link: "portrait_abc123"
  
  client: {
    id: "uuid"
    name: "Ğ˜Ğ²Ğ°Ğ½ Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²"
    phone: "+79991234567"
  }
  
  image: {
    url: "https://server.com/storage/portraits/client-uuid/portrait-uuid.jpg"
    preview_url: "https://server.com/storage/portraits/.../preview.webp"
    width: 1920        // Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾
    height: 1080       // Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾
  }
  
  markers: {
    fset: "https://server.com/nft-markers/portrait-uuid/portrait-uuid.fset"
    fset3: "https://server.com/nft-markers/portrait-uuid/portrait-uuid.fset3"
    iset: "https://server.com/nft-markers/portrait-uuid/portrait-uuid.iset"
  }
  
  active_video: {
    id: "uuid"
    url: "https://server.com/storage/videos/portrait-uuid/video-uuid.mp4"
    preview_url: "https://server.com/storage/videos/.../preview.webp"
    description: "ĞŸĞ¾Ğ·Ğ´Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ Ğ´Ğ½ĞµĞ¼ Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ"
    file_size_mb: 15.5
    duration_seconds: 30    // Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾
  }
  
  qr_code: "data:image/png;base64,iVBORw0KG..."
  view_count: 42
  created_at: "2024-01-15T10:30:00Z"
}
```

## Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MOBILE APP CACHE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  AsyncStorage (Key-Value)                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                   â”‚
â”‚  â€¢ auth_token              â†’ JWT Ñ‚Ğ¾ĞºĞµĞ½                      â”‚
â”‚  â€¢ portraits_list          â†’ JSON Ğ¼Ğ°ÑÑĞ¸Ğ² Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ¾Ğ²          â”‚
â”‚  â€¢ last_sync_timestamp     â†’ Ğ’Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¹ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸  â”‚
â”‚  â€¢ offline_views_queue     â†’ ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸   â”‚
â”‚  â€¢ marker_{portrait_id}    â†’ ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞµÑˆĞ° Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°        â”‚
â”‚  â€¢ settings                â†’ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ           â”‚
â”‚                                                             â”‚
â”‚  File System (FS)                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  /DocumentDirectory/                                        â”‚
â”‚  â”œâ”€â”€ previews/                                              â”‚
â”‚  â”‚   â”œâ”€â”€ {portrait_id}_preview.webp    (50-100 KB)         â”‚
â”‚  â”‚   â””â”€â”€ {video_id}_preview.webp       (100-200 KB)        â”‚
â”‚  â”‚                                                          â”‚
â”‚  â”œâ”€â”€ markers/                                               â”‚
â”‚  â”‚   â”œâ”€â”€ {portrait_id}/                                    â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ {portrait_id}.fset         (200-800 KB)       â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ {portrait_id}.fset3        (150-600 KB)       â”‚
â”‚  â”‚   â”‚   â””â”€â”€ {portrait_id}.iset         (100-400 KB)       â”‚
â”‚  â”‚   â”‚                                                      â”‚
â”‚  â”‚   â””â”€â”€ ... (Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ñ‹)                             â”‚
â”‚  â”‚                                                          â”‚
â”‚  â””â”€â”€ videos/ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)                                  â”‚
â”‚      â””â”€â”€ {video_id}.mp4                 (5-50 MB)          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
1. âœ… ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾: Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (JSON), preview Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
2. âš ï¸ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ¾Ğ²Ğ°Ğ½Ğ¾: NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ¾Ğ²
3. ğŸ”„ ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾: Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ (Ğ¿Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ñƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ)

Ğ’Ñ€ĞµĞ¼Ñ Ğ¶Ğ¸Ğ·Ğ½Ğ¸ ĞºĞµÑˆĞ°:
â€¢ ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: 1-7 Ğ´Ğ½ĞµĞ¹
â€¢ Preview: 30 Ğ´Ğ½ĞµĞ¹
â€¢ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹: Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾ (Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¾ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ)
â€¢ Ğ’Ğ¸Ğ´ĞµĞ¾: Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾ (Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¾ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ)
```

## ĞÑ„Ğ»Ğ°Ğ¹Ğ½ Ñ€ĞµĞ¶Ğ¸Ğ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              OFFLINE MODE WORKFLOW                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ñ‚ĞµÑ€ÑĞµÑ‚ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ                          â”‚
â”‚     â†“                                                       â”‚
â”‚  2. App Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğ² Ğ¾Ñ„Ğ»Ğ°Ğ¹Ğ½ Ñ€ĞµĞ¶Ğ¸Ğ¼                        â”‚
â”‚     â€¢ ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ "ĞÑ„Ğ»Ğ°Ğ¹Ğ½"                           â”‚
â”‚     â€¢ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ                      â”‚
â”‚     â†“                                                       â”‚
â”‚  3. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ñ‹                     â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ· AsyncStorage                             â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ preview Ğ¸Ğ· FS                               â”‚
â”‚     â†“                                                       â”‚
â”‚  4. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ AR Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€                      â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ¾Ğ² Ğ² FS                       â”‚
â”‚     â€¢ Ğ•ÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ â†’ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ AR                              â”‚
â”‚     â€¢ Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ "Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ"          â”‚
â”‚     â†“                                                       â”‚
â”‚  5. Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ                 â”‚
â”‚     {                                                       â”‚
â”‚       portraitId: "uuid",                                   â”‚
â”‚       duration: 25,                                         â”‚
â”‚       timestamp: "2024-01-15T10:30:00Z",                    â”‚
â”‚       deviceInfo: {...}                                     â”‚
â”‚     }                                                       â”‚
â”‚     â†“                                                       â”‚
â”‚  6. Ğ¡Ğ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾                                â”‚
â”‚     â†“                                                       â”‚
â”‚  7. Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…                                    â”‚
â”‚     â€¢ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¸Ğ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸                          â”‚
â”‚     â€¢ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ¾Ğ²                             â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ preview                               â”‚
â”‚     â†“                                                       â”‚
â”‚  8. ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ                                        â”‚
â”‚     â€¢ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ                  â”‚
â”‚     â€¢ ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½ĞµÑƒĞ´Ğ°Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ°                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ñ€Ğ°ÑĞ¿Ğ¾Ğ·Ğ½Ğ°Ğ²Ğ°Ğ½Ğ¸Ñ AR Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AR RECOGNITION FLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  1. Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ AR.js                                        â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ AR.js Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºÑƒ Ğ² WebView                    â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ĞºĞ°Ğ¼ĞµÑ€Ğµ                                â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹ (.fset, .fset3, .iset)           â”‚
â”‚     â†“                                                          â”‚
â”‚  2. ĞšĞ°Ğ¼ĞµÑ€Ğ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°                                             â”‚
â”‚     â€¢ Ğ—Ğ°Ñ…Ğ²Ğ°Ñ‚ ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ (30-60 FPS)           â”‚
â”‚     â€¢ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ°Ğ´Ñ€Ğ° Ñ‡ĞµÑ€ĞµĞ· AR.js                     â”‚
â”‚     â†“                                                          â”‚
â”‚  3. ĞŸĞ¾Ğ¸ÑĞº Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°                                              â”‚
â”‚     â€¢ Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ features Ğ¸Ğ· ĞºĞ°Ğ´Ñ€Ğ°                            â”‚
â”‚     â€¢ Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°Ğ¼Ğ¸                  â”‚
â”‚     â€¢ Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¹                                    â”‚
â”‚     â†“                                                          â”‚
â”‚  4a. ĞœĞ°Ñ€ĞºĞµÑ€ ĞĞ• Ğ½Ğ°Ğ¹Ğ´ĞµĞ½                                          â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ                                  â”‚
â”‚     â€¢ ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ "ĞĞ°Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñƒ Ğ½Ğ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ"              â”‚
â”‚     â€¢ Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº ÑˆĞ°Ğ³Ñƒ 2                                       â”‚
â”‚     â†“                                                          â”‚
â”‚  4b. ĞœĞ°Ñ€ĞºĞµÑ€ ĞĞĞ™Ğ”Ğ•Ğ! ğŸ‰                                         â”‚
â”‚     â€¢ Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ¸ Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ (pose)                   â”‚
â”‚     â€¢ Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ 'markerFound'                            â”‚
â”‚     â†“                                                          â”‚
â”‚  5. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚                                         â”‚
â”‚     â€¢ ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ 3D Ğ¿Ğ»Ğ¾ÑĞºĞ¾ÑÑ‚ÑŒ Ğ½Ğ° Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğµ                 â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾ (video.play())                           â”‚
â”‚     â€¢ ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ĞºĞ°Ğ´Ñ€Ğµ                      â”‚
â”‚     â†“                                                          â”‚
â”‚  6. ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ (Tracking)                                    â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚     â”‚  ĞŸĞ¾ĞºĞ° Ğ¼Ğ°Ñ€ĞºĞµÑ€ Ğ²Ğ¸Ğ´ĞµĞ½:                  â”‚                  â”‚
â”‚     â”‚  â€¢ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°        â”‚                  â”‚
â”‚     â”‚  â€¢ Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾               â”‚                  â”‚
â”‚     â”‚  â€¢ Ğ¡Ñ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ¿Ğ¾Ñ‚ĞµÑ€ÑŒ = 0                 â”‚                  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                        â”‚                                       â”‚
â”‚                        â†“                                       â”‚
â”‚  7a. ĞœĞ°Ñ€ĞºĞµÑ€ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½                                   â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¹ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸             â”‚
â”‚     â€¢ Ğ¡Ñ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ğ¿Ğ¾Ñ‚ĞµÑ€ÑŒ++                                         â”‚
â”‚     â€¢ Ğ•ÑĞ»Ğ¸ ÑÑ‡ĞµÑ‚Ñ‡Ğ¸Ğº < threshold â†’ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº ÑˆĞ°Ğ³Ñƒ 6           â”‚
â”‚     â†“                                                          â”‚
â”‚  7b. ĞœĞ°Ñ€ĞºĞµÑ€ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ğ¾Ñ‚ĞµÑ€ÑĞ½                                  â”‚
â”‚     â€¢ Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ 'markerLost'                             â”‚
â”‚     â€¢ ĞŸÑ€Ğ¸Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²Ğ¸Ğ´ĞµĞ¾ (video.pause())                      â”‚
â”‚     â€¢ Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº ÑˆĞ°Ğ³Ñƒ 2 (Ğ¿Ğ¾Ğ¸ÑĞº)                              â”‚
â”‚     â†“                                                          â”‚
â”‚  8. Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ°                                       â”‚
â”‚     â€¢ Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ duration_seconds                              â”‚
â”‚     â€¢ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€                           â”‚
â”‚     â€¢ Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ AR Viewer                                        â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ AR.js Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:
â€¢ smooth: true           - ÑĞ³Ğ»Ğ°Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹
â€¢ smoothCount: 10        - ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ°Ğ´Ñ€Ğ¾Ğ² Ğ´Ğ»Ñ ÑƒÑÑ€ĞµĞ´Ğ½ĞµĞ½Ğ¸Ñ
â€¢ smoothTolerance: 0.01  - Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ğµ
â€¢ smoothThreshold: 5     - Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ´Ğ»Ñ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°
```

## Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FILE SIZES & PERFORMANCE                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  ĞĞ´Ğ¸Ğ½ Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚:                                            â”‚
â”‚  â”œâ”€ ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (JSON)        ~5 KB                       â”‚
â”‚  â”œâ”€ Preview Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ       ~50-100 KB (WebP)          â”‚
â”‚  â”œâ”€ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹               ~500 KB - 2 MB (3 Ñ„Ğ°Ğ¹Ğ»Ğ°)   â”‚
â”‚  â”œâ”€ Preview Ğ²Ğ¸Ğ´ĞµĞ¾             ~100-200 KB (WebP)         â”‚
â”‚  â””â”€ ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾              ~5-50 MB (MP4)             â”‚
â”‚                                                           â”‚
â”‚  100 Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚Ğ¾Ğ²:                                           â”‚
â”‚  â”œâ”€ ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ                ~500 KB                    â”‚
â”‚  â”œâ”€ Preview Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹       ~5-10 MB                   â”‚
â”‚  â”œâ”€ NFT Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹               ~50-200 MB                 â”‚
â”‚  â”œâ”€ Preview Ğ²Ğ¸Ğ´ĞµĞ¾             ~10-20 MB                  â”‚
â”‚  â””â”€ ĞŸĞ¾Ğ»Ğ½Ñ‹Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾              ~500 MB - 5 GB             â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:                               â”‚         â”‚
â”‚  â”‚ â€¢ ĞšĞµÑˆ Ğ±ĞµĞ· Ğ²Ğ¸Ğ´ĞµĞ¾: ~65-230 MB (Ğ¿Ñ€Ğ¸ĞµĞ¼Ğ»ĞµĞ¼Ğ¾)    â”‚         â”‚
â”‚  â”‚ â€¢ ĞšĞµÑˆ Ñ Ğ²Ğ¸Ğ´ĞµĞ¾: 500+ MB (Ğ¿Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ñƒ user)    â”‚         â”‚
â”‚  â”‚ â€¢ ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ iOS: app_data < 5-10 GB      â”‚         â”‚
â”‚  â”‚ â€¢ ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Android: Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ device   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                           â”‚
â”‚  ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ AR:                                   â”‚
â”‚  â”œâ”€ FPS (Ñ†ĞµĞ»ĞµĞ²Ğ¾Ğ¹)             30+ FPS                    â”‚
â”‚  â”œâ”€ Scan time (Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾)        < 2000 ms                  â”‚
â”‚  â”œâ”€ Scan time (Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾)       < 1000 ms                  â”‚
â”‚  â”œâ”€ Marker lost count         < 5 (Ğ·Ğ° ÑĞµÑÑĞ¸Ñ)           â”‚
â”‚  â””â”€ Memory usage              < 200 MB (Ğ±ĞµĞ· Ğ²Ğ¸Ğ´ĞµĞ¾ ĞºĞµÑˆĞ°)  â”‚
â”‚                                                           â”‚
â”‚  Ğ¡ĞµÑ‚ĞµĞ²Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº:                                          â”‚
â”‚  â”œâ”€ Initial sync (100 items)  ~70-250 MB                â”‚
â”‚  â”œâ”€ Incremental update        ~1-10 MB                   â”‚
â”‚  â”œâ”€ One portrait view         ~500 KB - 2 MB (markers)   â”‚
â”‚  â””â”€ Analytics event           ~1-2 KB                    â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**Ğ”Ğ°Ñ‚Ğ°:** 2024-11-20  
**Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚:** Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Mobile API
