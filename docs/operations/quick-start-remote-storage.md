# ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚: Ð£Ð´Ð°Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð° Ð´Ð»Ñ Ð±ÑÐºÐ°Ð¿Ð¾Ð²

## Ð§Ñ‚Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾?

âœ… **Ð¯Ð½Ð´ÐµÐºÑ Ð”Ð¸ÑÐº** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð±ÑÐºÐ°Ð¿Ð¾Ð²  
âœ… **Google Drive** - Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ð¾Ð±Ð»Ð°ÐºÐ¾  
âœ… **Admin UI** - ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ  
âœ… **REST API** - Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ñ‹Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼  

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð·Ð° 5 Ð¼Ð¸Ð½ÑƒÑ‚

### 1ï¸âƒ£ Ð¯Ð½Ð´ÐµÐºÑ Ð”Ð¸ÑÐº (ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð±)

```bash
# Ð¨Ð°Ð³ 1: ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ https://oauth.yandex.ru/authorize?response_type=token&client_id=YOUR_APP_ID
# Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½ Ð¸Ð· URL Ð¿Ð¾ÑÐ»Ðµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸

# Ð¨Ð°Ð³ 2: Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
cat > config/remote_storage.json << 'EOF'
{
  "yandex_disk": {
    "enabled": true,
    "oauth_token": "Ð’Ð¡Ð¢ÐÐ’Ð¬Ð¢Ð•_Ð’ÐÐ¨_Ð¢ÐžÐšÐ•Ð_Ð¡Ð®Ð”Ð"
  }
}
EOF

# Ð¨Ð°Ð³ 3: Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»
chmod 600 config/remote_storage.json

# Ð¨Ð°Ð³ 4: ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
# systemctl restart vertex-ar
# Ð¸Ð»Ð¸
# docker-compose restart
```

### 2ï¸âƒ£ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ: `http://your-server/admin/backups`
2. ÐŸÑ€Ð¾ÐºÑ€ÑƒÑ‚Ð¸Ñ‚Ðµ Ð´Ð¾ ÑÐµÐºÑ†Ð¸Ð¸ **"â˜ï¸ Ð£Ð´Ð°Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð°"**
3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ **"ðŸ”Œ Ð¢ÐµÑÑ‚"** Ñ€ÑÐ´Ð¾Ð¼ Ñ Ð¯Ð½Ð´ÐµÐºÑ Ð”Ð¸ÑÐº
4. Ð•ÑÐ»Ð¸ Ð²Ð¸Ð´Ð¸Ñ‚Ðµ **"ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½"** (Ð·ÐµÐ»ÐµÐ½Ñ‹Ð¹) - Ð²ÑÑ‘ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚! ðŸŽ‰

### 3ï¸âƒ£ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±ÑÐºÐ°Ð¿Ñ‹

**Ð§ÐµÑ€ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ:**
- ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ **"â˜ï¸ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ â†’ Ð¯Ð½Ð´ÐµÐºÑ Ð”Ð¸ÑÐº"**

**Ð§ÐµÑ€ÐµÐ· API:**
```bash
curl -X POST "http://your-server/remote-storage/sync-all/yandex_disk" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"
```

## ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

### Ð’ Admin Dashboard

ðŸ”Œ **Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ** - Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ²ÑÐ·Ð¸ Ñ Ð¾Ð±Ð»Ð°ÐºÐ¾Ð¼  
ðŸ“Š **ÐšÐ²Ð¾Ñ‚Ð° Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð°** - ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¼ÐµÑÑ‚Ð° Ð·Ð°Ð½ÑÑ‚Ð¾/Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾  
ðŸ“‚ **Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ„Ð°Ð¹Ð»Ð¾Ð²** - Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð±ÑÐºÐ°Ð¿Ð¾Ð² Ð² Ð¾Ð±Ð»Ð°ÐºÐµ  
â˜ï¸ **Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ** - Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð±ÑÐºÐ°Ð¿Ð¾Ð² Ð² Ð¾Ð±Ð»Ð°ÐºÐ¾  
â¬‡ï¸ **Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ** - Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð· Ð¾Ð±Ð»Ð°ÐºÐ°  

### ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² cron Ð´Ð»Ñ ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸:

```bash
# Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð² 3:00 ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ
0 3 * * * cd /path/to/vertex-ar && curl -X POST "http://localhost:8000/remote-storage/sync-all/yandex_disk" -H "Authorization: Bearer YOUR_TOKEN"
```

## Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ Ð°Ð²Ð°Ñ€Ð¸Ð¸

```bash
# 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Vertex AR Ð½Ð° Ð½Ð¾Ð²Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ
# 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ config/remote_storage.json (Ñ‚Ðµ Ð¶Ðµ Ñ‚Ð¾ÐºÐµÐ½Ñ‹)
# 3. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð±ÑÐºÐ°Ð¿
curl -X POST "http://localhost:8000/remote-storage/download" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{"remote_filename": "db_backup_XXXXX.db", "provider": "yandex_disk"}'

# 4. Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
curl -X POST "http://localhost:8000/backups/restore" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{"backup_path": "backups/database/db_backup_XXXXX.db"}'
```

## Google Drive (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Google Drive:

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð² [Google Cloud Console](https://console.cloud.google.com/)
2. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Google Drive API
3. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ OAuth 2.0 credentials
4. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² `config/remote_storage.json`:

```json
{
  "google_drive": {
    "enabled": true,
    "credentials": {
      "access_token": "YOUR_GOOGLE_TOKEN",
      "folder_id": "FOLDER_ID_OPTIONAL"
    }
  }
}
```

## Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ âš ï¸

**Ð’Ð°Ð¶Ð½Ð¾:**
- âœ… Ð¤Ð°Ð¹Ð» `config/remote_storage.json` ÑƒÐ¶Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ Ð² .gitignore
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¿Ñ€Ð°Ð²Ð°: `chmod 600 config/remote_storage.json`
- âœ… ÐÐµ Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÐ¹Ñ‚Ðµ Ñ‚Ð¾ÐºÐµÐ½Ñ‹ Ð² Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÑÑ…
- âœ… Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐ¹Ñ‚Ðµ OAuth Ñ‚Ð¾ÐºÐµÐ½Ñ‹

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹?

### "Provider not configured"
âž¡ï¸ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ `config/remote_storage.json` - Ñ„Ð°Ð¹Ð» Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½

### "Connection failed"
âž¡ï¸ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚-ÑÐ¾ÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ð¸ Ð²Ð°Ð»Ð¸Ð´Ð½Ð¾ÑÑ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½Ð°

### "Token expired"
âž¡ï¸ OAuth Ñ‚Ð¾ÐºÐµÐ½Ñ‹ Ð¸Ð¼ÐµÑŽÑ‚ ÑÑ€Ð¾Ðº Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ, Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½

## ÐŸÐ¾Ð»Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ

ðŸ“– [REMOTE_STORAGE_SETUP.md](./REMOTE_STORAGE_SETUP.md) - Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ  
ðŸ“– [REMOTE_BACKUPS_FEATURE.md](./REMOTE_BACKUPS_FEATURE.md) - Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹  
ðŸ“– [CHANGELOG_REMOTE_STORAGE.md](./CHANGELOG_REMOTE_STORAGE.md) - Ñ‡Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ  

## Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ðŸ’¬ GitHub Issues: https://github.com/yourusername/vertex-ar/issues  
ðŸ“§ Email: support@your-domain.com  

---

**Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!** Ð’Ð°ÑˆÐ¸ Ð±ÑÐºÐ°Ð¿Ñ‹ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð² Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð² Ð¾Ð±Ð»Ð°ÐºÐµ â˜ï¸
