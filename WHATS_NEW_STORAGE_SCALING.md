# üéâ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–¢–µ–ø–µ—Ä—å Vertex AR –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–≥–∏–±–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**! –í—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–π MinIO —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –æ–±–ª–∞—á–Ω–æ–µ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —á—Ç–æ–±—ã –Ω–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ –¥–∏—Å–∫–æ–≤–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.

## üöÄ –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∏—Å–∫–∞
- –•—Ä–∞–Ω–∏—Ç–µ —Ç—ã—Å—è—á–∏ AR-–ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞

### 2. –≠–∫–æ–Ω–æ–º–∏—è —Å—Ä–µ–¥—Å—Ç–≤
- –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ 10-20 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö SSD
- –ü–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
- –ü—Ä–∏–º–µ—Ä: 100GB –Ω–∞ Backblaze B2 = $0.50/–º–µ—Å—è—Ü

### 3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ —Å–±–æ–µ –¥–∏—Å–∫–∞

### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- CDN –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–µ–¥–∏–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–ù–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–µ–Ω–Ω—ã–π MinIO (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:

```env
STORAGE_TYPE=minio
MINIO_ENDPOINT=minio.example.com:9000
MINIO_ACCESS_KEY=your-key
MINIO_SECRET_KEY=your-secret
MINIO_BUCKET=vertex-ar
MINIO_SECURE=true
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - –≥–æ—Ç–æ–≤–æ!

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ DigitalOcean Spaces, AWS S3, Backblaze B2 –∏–ª–∏ Yandex Object Storage:

```env
STORAGE_TYPE=minio
MINIO_ENDPOINT=nyc3.digitaloceanspaces.com
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- üìñ [**STORAGE_SCALING_README.md**](./STORAGE_SCALING_README.md) - –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä
- ‚ö° [**SCALING_QUICK_START_RU.md**](./SCALING_QUICK_START_RU.md) - –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- üìö [**SCALING_STORAGE_GUIDE.md**](./SCALING_STORAGE_GUIDE.md) - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- üê≥ [**DOCKER_COMPOSE_EXAMPLES.md**](./DOCKER_COMPOSE_EXAMPLES.md) - Docker –ø—Ä–∏–º–µ—Ä—ã

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- üîß `check_storage.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```bash
python check_storage.py
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
============================================================
Vertex AR - Storage Connection Check
============================================================

üì¶ Storage Type: minio
‚úÖ MinIO endpoint is reachable
‚úÖ Test file upload successful
‚úÖ Test file download successful

üéâ Storage check completed successfully!
============================================================
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MinIO Client
wget https://dl.min.io/client/mc/release/linux-amd64/mc
chmod +x mc && sudo mv mc /usr/local/bin/

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
mc alias set myminio http://minio-server:9000 admin password

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ
mc cp --recursive ./vertex-ar/storage/ myminio/vertex-ar/
```

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–î–ª—è 100GB —Ö—Ä–∞–Ω–∏–ª–∏—â–∞:

| –í–∞—Ä–∏–∞–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å—è—Ü |
|---------|----------------|
| –°–µ—Ä–≤–µ—Ä–Ω—ã–π SSD | $12-25 |
| Backblaze B2 | $0.50 |
| Yandex Object Storage | $2.00 |
| Amazon S3 | $2.30 |
| DigitalOcean Spaces | $5.00 |

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –∫–æ–¥–µ?

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–ù–æ–≤—ã–π –º–æ–¥—É–ª—å:** `vertex-ar/storage_adapter.py`
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
   - Factory –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞

2. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
   - –í–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –°—Ç–∞—Ä—ã–µ –º–æ–¥—É–ª–∏ `storage.py` –∏ `storage_local.py` —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

3. **–¢–µ—Å—Ç—ã:**
   - `vertex-ar/tests/test_storage_adapter.py`
   - –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

4. **Docker:**
   - `docker-compose.minio-remote.yml` - –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ MinIO

## üéì –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python –∫–æ–¥

```python
from storage_adapter import get_storage, upload_file

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
storage = get_storage()

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
content = b"Hello, World!"
url = storage.upload_file(content, "test.txt", "text/plain")

# –ò–ª–∏ —á–µ—Ä–µ–∑ compatibility —Ñ—É–Ω–∫—Ü–∏—é
url = upload_file(content, "test.txt", "text/plain")
```

### Docker Compose

```yaml
services:
  vertex-ar:
    environment:
      - STORAGE_TYPE=minio
      - MINIO_ENDPOINT=minio.example.com:9000
      - MINIO_ACCESS_KEY=your-key
      - MINIO_SECRET_KEY=your-secret
```

## üö® –í–∞–∂–Ω–æ

1. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥:** –ú–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
3. **–û—Ç–∫–∞—Ç:** –õ–µ–≥–∫–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üÜò –ü–æ–º–æ—â—å

**–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º?**
```bash
python check_storage.py  # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```

**–í–æ–ø—Ä–æ—Å—ã?**
- üìñ –ß–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
- üí¨ –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub
- üìß –í–∫–ª—é—á–∏—Ç–µ –≤—ã–≤–æ–¥ `check_storage.py` –≤ –≤–æ–ø—Ä–æ—Å

## üéä –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç Vertex AR —Ä–∞—Å—Ç–∏ –≤–º–µ—Å—Ç–µ —Å –≤–∞—à–∏–º –±–∏–∑–Ω–µ—Å–æ–º:
- ‚úÖ –û—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ enterprise-–º–∞—Å—à—Ç–∞–±–∞
- ‚úÖ –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ì–æ—Ç–æ–≤—ã –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é?** –ù–∞—á–Ω–∏—Ç–µ —Å [SCALING_QUICK_START_RU.md](./SCALING_QUICK_START_RU.md)!

---

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 2024-10-31  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è!** üöÄ
