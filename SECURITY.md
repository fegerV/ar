# –ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Vertex AR

**–í–µ—Ä—Å–∏—è:** 1.3.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 7 –Ω–æ—è–±—Ä—è 2024  
**–ö–æ–Ω—Ç–∞–∫—Ç:** security@vertex-ar.example.com

---

## üîî –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö

–ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∏—Å—å–º–æ –Ω–∞ security@vertex-ar.example.com —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —É—è–∑–≤–∏–º–æ—Å—Ç–∏.  
2. –£–∫–∞–∂–∏—Ç–µ —à–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –æ–∂–∏–¥–∞–µ–º—ã–π –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ.  
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ PoC (–∫–æ–¥/—Å–∫—Ä–∏–Ω—à–æ—Ç—ã).  
4. –ú—ã –æ—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –∏ —Å–æ–≥–ª–∞—Å—É–µ–º –¥–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.

–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–∞–∑–¥–µ–ª –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–µ–π CHANGELOG.

---

## üõ°Ô∏è –ê–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–µ—Å—Å–∏–∏
- JWT-—Ç–æ–∫–µ–Ω—ã —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º TTL
- –ü–æ–ª–∏—Ç–∏–∫–∞ –ø–∞—Ä–æ–ª–µ–π: ‚â•8 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫–∏
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –°–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 –º–∏–Ω—É—Ç)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è e-mail, —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∏–º–µ–Ω, URL, UUID
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –∏ –∞–¥—Ä–µ—Å–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
- Magic bytes + MIME-–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50 –ú–ë)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Rate limiting (`slowapi`) –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∏ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CORS —á–µ—Ä–µ–∑ `.env`
- HTTPS –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (`setup_ssl.sh`)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON-–ª–æ–≥–∏ —Å request ID –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –æ—à–∏–±–æ–∫
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—é—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

---

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

| –û–±–ª–∞—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π |
| --- | --- | --- |
| –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π | –í –ø–∞–º—è—Ç–∏ | –ü–µ—Ä–µ–µ–∑–¥ –Ω–∞ Redis (v1.4) |
| –ë–î SQLite | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ PostgreSQL + –º–∏–≥—Ä–∞—Ü–∏–π (v1.4) |
| –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ | –õ–æ–∫–∞–ª—å–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | MinIO/S3 –∫–ª–∞—Å—Ç–µ—Ä –∏ CDN (v1.4) |
| CI/CD | –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ pipeline (v1.4) |
| 2FA/OAuth2 | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è v1.5 |

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [x] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∑–∞–¥–∞–Ω—ã –≤ `.env` –∏ –Ω–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [x] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á—ë–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–∫—Å–∏
- [x] CORS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –¥–æ–º–µ–Ω–∞–º–∏
- [x] –í–∫–ª—é—á—ë–Ω rate limiting –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç brute force
- [x] –ü—Ä–æ–≤–µ–¥—ë–Ω `check_production_readiness.sh`
- [x] –ó–∞–ø—É—â–µ–Ω—ã `pytest` –∏ `run_performance_tests.sh`

---

## üß∞ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip-audit
safety check

# –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
bandit -r vertex-ar/
semgrep --config=auto vertex-ar/

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–æ–≤
trivy image vertex-ar:latest
```

---

## üóÇÔ∏è –õ–æ–≥–∏ –∏ –∞—É–¥–∏—Ç

- **Request Logging Middleware** ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥, –ø—É—Ç—å, —Å—Ç–∞—Ç—É—Å, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, IP, request ID.
- **Error Logging Middleware** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç 4xx/5xx, —Å—Ç–µ–∫-—Ç—Ä–µ–π—Å—ã, –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **Validation Logging Middleware** ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ 422-–æ—Ç–≤–µ—Ç–∞—Ö —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–ª–µ–π.
- –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ JSON, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å ELK/Datadog.

---

## üß≠ –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** ‚Äî –∞–ª–µ—Ä—Ç—ã, –ª–æ–≥–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
2. **–û—Ü–µ–Ω–∫–∞** ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç–∏, –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö.  
3. **–ò–∑–æ–ª—è—Ü–∏—è** ‚Äî –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –æ—Ç–∑—ã–≤ —Ç–æ–∫–µ–Ω–æ–≤.  
4. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äî –≤—ã–ø—É—Å–∫ –ø–∞—Ç—á–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.  
5. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.  
6. **Post-mortem** ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–≤–æ–ø—Ä–∏—á–∏–Ω—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏.

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–∞–∫—Ü–∏–∏:  
- **Critical:** 1 —á–∞—Å  
- **High:** 4 —á–∞—Å–∞  
- **Medium:** 24 —á–∞—Å–∞  
- **Low:** 72 —á–∞—Å–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OWASP Top 10](https://owasp.org/www-project-top-ten/) ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Ä–µ–≤—å—é.  
- [FastAPI Security](https://fastapi.tiangolo.com/ru/advanced/security/) ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≥–∏–¥.  
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Vertex AR](./docs/README.md) ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –¥–µ–ø–ª–æ—é –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É.

---

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞ security@vertex-ar.example.com.
